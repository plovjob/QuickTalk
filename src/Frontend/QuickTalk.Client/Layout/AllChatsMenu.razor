@using Microsoft.AspNetCore.Components.Routing
@inject NavigationManager Navigation

<MudPaper Width="300px">
    <MudList T="string">
        <MudListSubheader>All chats</MudListSubheader>
        @foreach (var partner in ChatPartners)
        {
            <MudListItem
                Text="@partner.Name"
                Icon="@Icons.Material.Filled.Person"
                OnClick="() => NavigateToChat(partner.Id, partner.Name)" />
            <MudDivider />
        }
    </MudList>
</MudPaper>

@code{
    private List<ChatPartner> ChatPartners = null!;

    protected override Task OnInitializedAsync()
    {
        return base.OnInitializedAsync();
    }

    private void NavigateToChat(Guid id, string name)
    {
        Navigation.NavigateTo($"/chat/{id}/{name}");
    }
}
